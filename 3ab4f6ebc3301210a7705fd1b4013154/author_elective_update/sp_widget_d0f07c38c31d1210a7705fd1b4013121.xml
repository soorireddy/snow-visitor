<?xml version="1.0" encoding="UTF-8"?><record_update table="sp_widget">
    <sp_widget action="DELETE">
        <category>custom</category>
        <client_script><![CDATA[function controller($scope) {
	var c = this;
	var CONST = {
		'BORDER_COLOR': 'border-color',
		'TOPIC_SELECTOR': '.popular-topic-body-container',
		'FN_RESIZE': 'resizePopularTopicWidget',
		'CONTAINER': '.container',
		'SMALL': 'small',
		'NO_ICON': 'no-icon',
		'POPULAR_TOPIC_BODY': '.popular-topic-body',
		'IE_PREFIX': 'Trident/',
		'IE': 'ie',
		'MARGIN': 'mr-0',
		'H5_SELECTOR': '.popular-topic-caption .popular-topic-title',
		'FONT_SIZE': 'font-size',
		'FIXED_COUNT': 4,
		'LIMIT': 12
	};
	$scope.isLoading = false;
	var data = c.data;
	$scope.isFixed = false;
	var isIE = window.navigator.userAgent.indexOf(CONST.IE_PREFIX) !== -1;
	$scope.getClass = function () {
		var isHex = data && data.isHex || false;
		return !isHex ? getThemeClass(data.borderColor) : "";
	};

	$scope.getStyle = function () {
		var style = {};
		style[CONST.BORDER_COLOR] = data && data.hexcode;
		var isHex = data && data.isHex || false;
		return isHex ? style : {};
	};
	var registered = false;
	var resizeEvents = $._data(window, "events").resize;
	if (resizeEvents) {
		resizeEvents.forEach(function (callback) {
			var handler = callback.handler;
			var name = handler.name;
			if (name === CONST.FN_RESIZE) {
				registered = true;
			}
		});
	}

	if (!registered) {
		$(window).resize(resizePopularTopicWidget);
	}
	$scope.$evalAsync(resizePopularTopicWidget);
	$scope.$evalAsync(topicTooltip);
	function getThemeClass(background) {
		var THEME = {
			'border-primary': 'primary-color',
			'border-secondary': 'secondary-color',
			'border-tertiary': 'tertiary-color'
		};
		var result = 'tertiary-color';
		if (background in THEME)
			result = THEME[background];

		return result;
	}
	function resizePopularTopicWidget() {
		var topicCont = $(CONST.TOPIC_SELECTOR);
		if (isIE) {
			resizeWidgetIE(topicCont);
		}
		topicTooltip();
	}
	function resizeWidgetIE(topicCont) {
		var MIN_TOPIC_WIDTH = 150;
		var MAX_TOPIC_WIDTH = 250;
		var PADDING = 16;
		var MIN_BREAK_POINT = 330;
		var MOBILE_WIDTH = 400;
		$(CONST.TOPIC_SELECTOR).addClass(CONST.IE);
		topicCont.each(function (i, container) {
			var availablePanelWidth = getPanelWidth(container);
			var isSmall = $(container).hasClass(CONST.SMALL);
			var noIcon = $(container).hasClass(CONST.NO_ICON);
			var limit = CONST.LIMIT;
			var numberOfTopic = Math.min(Math.round(availablePanelWidth / MIN_TOPIC_WIDTH), limit);
			numberOfTopic = calcTopicCount(numberOfTopic, MIN_TOPIC_WIDTH, availablePanelWidth, PADDING, true);
			isSmall = true;
			if (availablePanelWidth <= MOBILE_WIDTH) {
				numberOfTopic = 2;
				if ((isSmall && !noIcon) || (availablePanelWidth <= MIN_BREAK_POINT)) {
					numberOfTopic = 1;
				}
			}
			var topicWidth = Math.floor((availablePanelWidth - ((numberOfTopic) * PADDING) - 1) / numberOfTopic);
			topicWidth = (numberOfTopic === 1 && isSmall && !noIcon) ? availablePanelWidth : Math.min(topicWidth, MAX_TOPIC_WIDTH);
			var topicList = $(CONST.POPULAR_TOPIC_BODY, container);
			topicList.each(function (j, topic) {
				$(topic).css('width', topicWidth);
				if (isSmall && !noIcon) {
					$(topic).css('max-width', 'inherit');
				}
			});
		});
	}
	function calcTopicCount(topicCount, minTopicWidth, maxWidth, padWidth, isIE) {
		var calcWidth = calculateWidth(minTopicWidth, padWidth, topicCount, isIE);
		while ((topicCount > 0) && (calcWidth > maxWidth)) {
			topicCount--;
			calcWidth = calculateWidth(minTopicWidth, padWidth, topicCount, isIE);
		}
		return topicCount;
	}
	function calculateWidth(minTopicWidth, padWidth, topicCount, isIE) {
		var calcWidth = 0;
		var gridGapCount = topicCount - 1;
		if (isIE) {
			gridGapCount = topicCount;
		}
		calcWidth = (minTopicWidth * topicCount) + (gridGapCount * padWidth);
		return calcWidth;
	}
	function getPanelWidth(topicPanel) {
		var panelWidth = $(topicPanel).width();
		var parentWidth = $(topicPanel).parents(CONST.CONTAINER).width() || panelWidth;
		return Math.min(parentWidth, panelWidth);
	}
	function checkEllipsis(tooltip) {
		if (isIE) {
			return tooltip.scrollWidth > $(tooltip).parent().width();
		}
		var fontSize = parseFloat($(tooltip).css(CONST.FONT_SIZE));
		return (($(tooltip).height() + fontSize / 2) < tooltip.scrollHeight);
	}
	function topicTooltip() {
		var topics = $(CONST.H5_SELECTOR);
		topics.tooltip('enable');
		topics.each(function (i, tooltip) {
			if (!checkEllipsis(tooltip)) {
				$(tooltip).tooltip('disable');
			}
		});
	}
	c.asyncGet = function() {
		$scope.isLoading = true;
		c.data.action = "loadData";
		c.server.update().then(function(response) {
			fetchPopularTopicsData();
		});
	}
	var fetchPopularTopicsData = function() {
		$scope.isLoading = false;
		$scope.isFixed = (data.popularTopics && (data.popularTopics.length < CONST.FIXED_COUNT)) || false;
		setTimeout(resizePopularTopicWidget);
		setTimeout(topicTooltip);
	};

	var load_config = c.data.load_config;
	if (load_config === "async")
		setTimeout(c.asyncGet);
	else
		fetchPopularTopicsData();
}]]></client_script>
        <controller_as>c</controller_as>
        <css>/*** Variables declaration **/

$border-radius: 6px;
$shadow: 0px 2px 10px rgba(23, 40, 52, 0.08);
$normal-img-size: 56px;
$small-img-size: 32px;
$rm: 10px;
$text-primary: #181a1f !default;
$color-sp-separator: #eaeaea !default;
$headings-font-weight: 600 !default;
$border-primary: #8790a1 !default;
$border-secondary: #acb2be !default;
$border-tertiary: #dadde2 !default;
$sp-panel-box-shadow: 0 4px 8px 0 rgba(23, 40, 52, 0.08) !default;

.popular-topic-panel * {
	box-sizing: border-box;
	margin: 0;
	padding: 0;
	p {
		margin: 0 0 1.1rem;
	}
}

.popular-topic-panel {
	background-color: $color-lightest;
	border-radius: $border-radius-large;
	box-shadow: $shadow;
	margin-bottom: $rm * 1.6;
	color: $text-primary;
	border-color: transparent;
}

.popular-topic-panel.small {
	font-size: $rm * 1.6;
}

.popular-topic-panel &gt; .popular-topic-heading {
	word-wrap: break-word;
	padding: $rm * 2.4;
	color: $text-primary;
	border-top-right-radius: $border-radius;
	border-top-left-radius: $border-radius;
	border-bottom: 1px solid $color-sp-separator;
	background: none;
}

.popular-topic-body-container {
	padding: 1.6 * $rm 2.4 * $rm;
	display: grid;
	grid-auto-rows: 1fr;
	grid-template-columns: 1fr;
	grid-gap: 1.6 * $rm;
}
.popular-topic-empty-state {
	height: 15 * $rm;
	display: flex;
	justify-content: center;
	align-items: center;
	padding: 2.4rem;
	text-align: center;
	.popular-topic-empty-text{
		font-size: $font-size-base;
		color:$text-secondary;
	}
}
.popular-topic-body {
	margin-bottom: 0;
	background-color: $color-lightest;
	border-width: 1px;
	border-style: solid;
	border-radius: $border-radius-base;
}

.popular-topic-body:hover {
	box-shadow: $sp-panel-box-shadow;
}

.popular-topic-body &gt; .popular-topic-link {
	text-decoration: none;
	background-color: transparent;
	cursor: pointer;
	color: $text-primary;
	display: block;
	padding: 1em;
	height: 100%;
	border-radius: $border-radius-base;
  align-items: center;
}

.popular-topic-body-container.no-icon:not(.small) .popular-topic-link {
	padding-top: $rm * 5.2;
	padding-bottom: $rm * 5.2;
}

.popular-topic-body-container.small .popular-topic-link {
	display: flex;
	align-items: center;
	height: 100%;
}

.popular-topic-body .icon-wrapper {
	display: block;
	max-width: 100%;
	margin-left: auto;
	margin-right: auto;
	border: 0;
	width: $normal-img-size;
	height: $normal-img-size;
}

.popular-topic-body-container.small .icon-wrapper {
	width: $small-img-size;
	height: $small-img-size;
}

.popular-topic-body .popular-topic-caption {
	font-size: 1em;
	text-align: center;
}

.popular-topic-caption .popular-topic-title {
	word-break: break-word;
	overflow: hidden;
	text-overflow: ellipsis;
	display: -webkit-box;
	-webkit-line-clamp: 2;
	-webkit-box-orient: vertical;
	color: $text-primary;
	font-weight: $headings-font-weight;
}

.popular-topic-caption .tooltip-inner {
	padding: 0.3rem 0.8rem;
}

.popular-topic-caption .tooltip-arrow {
	bottom: -5px;
}

.popular-topic-body-container:not(.small) .popular-topic-caption {
	padding-top: $rm * 1.6;
	margin-bottom: $rm * 0.5;
	.popular-topic-title {
		font-size: $rm * 1.6;
	}
}

.popular-topic-body-container.small .popular-topic-caption {
	width: calc(100% - $small-img-size);
	text-align: left;
	display: flex;
	align-items: center;
	height: 100%;
	padding-left: 1em;
	margin-left: 0;
}

.popular-topic-body-container.no-icon .popular-topic-caption {
	width: 100%;
	margin: 0;
	padding: 0;
	display: flex;
	align-items: center;
	justify-content: center;
	height: 100%;
	text-align: center;
	max-width: none;
}

.popular-topic-body-container.no-icon .icon-wrapper {
	display: none;
}

.primary-color {
	border-color: $border-primary;
}

.secondary-color {
	border-color: $border-secondary;
}

.tertiary-color {
	border-color: $border-tertiary;
}

@media screen and (min-width: 330px) {
	.popular-topic-body-container {
		grid-template-columns: repeat(2, minmax($rm * 13, 1fr));
		grid-gap: $rm * 1.6 $rm;
	}
}

@media screen and (max-width: 430px) {
	.popular-topic-body-container.small:not(.no-icon) {
		grid-template-columns: 1fr;
	}
	.popular-topic-body-container {
		padding: 1.6 * $rm;
	}
}

@media screen and (min-width: 430px) {
	.popular-topic-body {
		max-width: $rm * 25;
	}
}

@media screen and (min-width: 480px) {
	.popular-topic-body-container:not(.fixed) {
		grid-template-columns: repeat(auto-fit, minmax(15rem, 1fr));
		grid-gap: 1.6 * $rm;
	}
	.popular-topic-body-container.fixed {
		grid-template-columns: repeat(auto-fill, minmax($rm * 15, 1fr));
		grid-gap: 1.6 * $rm;
	}
}

.ie.popular-topic-body-container {
	display: flex;
	flex-wrap: wrap;
	padding-bottom: 0;
	padding-right: 0.8 * $rm;
}

.ie .popular-topic-body {
	margin-right: $rm * 1.6;
	margin-bottom: $rm * 1.6;
	min-width: $rm * 15;
	max-width: $rm * 25;
}

.ie .popular-topic-title {
	white-space: nowrap;
}



.icon-wrapper .fa {
  font-size: 56px; /* Set icon size to 56px */
  color: #888; /* Set the icon color */
}
</css>
        <data_table>sp_instance</data_table>
        <demo_data>{
    "options": {
        "widget_title": "Visitor Managment",
        "topic_limit": "8",
        "display_size": "Normal",
        "border_color": "Border-tertiary",
        "hexcode": "#FFFFFF",
        "icon": "true",
        "load_config": "async",
        "show_empty_state": "false"
    }
}</demo_data>
        <description>visitor_checkin_actions</description>
        <docs/>
        <field_list/>
        <has_preview>true</has_preview>
        <id/>
        <internal>false</internal>
        <link><![CDATA[function link(scope, element, attrs, controller) {  }]]></link>
        <name>Visitor Checkin Actions</name>
        <option_schema>[&#13;
    {&#13;
        "hint": "Title name of the widget",&#13;
        "name": "widget_title",&#13;
        "section": "Presentation",&#13;
        "default_value": "Popular topics",&#13;
        "label": "Title",&#13;
        "type": "string"&#13;
    },&#13;
    {&#13;
        "hint": "Number of topics to be shown",&#13;
        "name": "topic_limit",&#13;
        "section": "Presentation",&#13;
        "default_value": "8",&#13;
        "label": "Number of topics",&#13;
        "type": "choice",&#13;
        "choices": [&#13;
            {&#13;
                "label": "4",&#13;
                "value": "4"&#13;
            },&#13;
            {&#13;
                "label": "6",&#13;
                "value": "6"&#13;
            },&#13;
            {&#13;
                "label": "8",&#13;
                "value": "8"&#13;
            },&#13;
            {&#13;
                "label": "12",&#13;
                "value": "12"&#13;
            }&#13;
        ]&#13;
    },&#13;
    {&#13;
        "hint": "Display size (Normal / Small)",&#13;
        "name": "display_size",&#13;
        "section": "Presentation",&#13;
        "default_value": "Normal",&#13;
        "label": "Display size",&#13;
        "type": "choice",&#13;
        "choices": [&#13;
            {&#13;
                "label": "Normal",&#13;
                "value": "Normal"&#13;
            },&#13;
            {&#13;
                "label": "Small",&#13;
                "value": "Small"&#13;
            }&#13;
        ]&#13;
    },&#13;
    {&#13;
        "hint": "Border color of popular topic",&#13;
        "name": "border_color",&#13;
        "section": "Presentation",&#13;
        "default_value": "Border-tertiary",&#13;
        "label": "Border color",&#13;
        "type": "choice",&#13;
        "choices": [&#13;
            {&#13;
                "label": "Border-primary",&#13;
                "value": "Border-primary"&#13;
            },&#13;
            {&#13;
                "label": "Border-secondary",&#13;
                "value": "Border-secondary"&#13;
            },&#13;
            {&#13;
                "label": "Border-tertiary",&#13;
                "value": "Border-tertiary"&#13;
            },&#13;
            {&#13;
                "label": "Hexcode",&#13;
                "value": "Hexcode"&#13;
            }&#13;
        ]&#13;
    },&#13;
    {&#13;
        "hint": "Hex code of border color",&#13;
        "name": "hexcode",&#13;
        "section": "Presentation",&#13;
        "default_value": "#FFFFFF",&#13;
        "label": "Hexcode",&#13;
        "type": "string"&#13;
    },&#13;
    {&#13;
        "hint": "Icon to be shown for popular topic",&#13;
        "name": "icon",&#13;
        "section": "Presentation",&#13;
        "default_value": "true",&#13;
        "label": "Show topic icon",&#13;
        "type": "boolean"&#13;
    },&#13;
    {&#13;
        "name": "load_config",&#13;
        "section": "other",&#13;
        "default_value": "async",&#13;
        "label": "Load configuration",&#13;
        "type": "choice",&#13;
        "choices": [&#13;
            {&#13;
                "label": "Synchronous",&#13;
                "value": "sync"&#13;
            },&#13;
            {&#13;
                "label": "Asynchronous",&#13;
                "value": "async"&#13;
            }&#13;
        ]&#13;
    },&#13;
    {&#13;
        "hint": "Shows empty state if the widget content is empty.",&#13;
        "name": "show_empty_state",&#13;
        "section": "other",&#13;
        "default_value": "false",&#13;
        "label": "Show empty state",&#13;
        "type": "boolean"&#13;
    },&#13;
    {&#13;
        "type": "array",&#13;
        "label": "Test Data",&#13;
        "name": "testdata",&#13;
        "description": "Enter a JSON array of values",&#13;
        "default": [&#13;
            {&#13;
                "topicUrl": "?id=emp_taxonomy_topic&amp;topic_id=ecc49ba7c3053010069aec4b7d40dd89",&#13;
                "topicId": "ecc49ba7c3053010069aec4b7d40dd89",&#13;
                "icon": "3742085ceb6530104a299f6713522830.iix?t=small",&#13;
                "topic": "Register Visitor"&#13;
            }&#13;
        ]&#13;
      }&#13;
]</option_schema>
        <public>true</public>
        <roles/>
        <script><![CDATA[(function () {
	data.options = options;
	data.popularTopics =[];
	var session = gs.getSession();
	var popularTopicsDataKey = 'alert_vm_list_data';
	var popularTopicsData = [
            {
                "topicUrl": "?id=sc_cat_item&sys_id=71f7ba8cc3811210a7705fd1b4013115",
                "topicId": "ecc49ba7c3053010069aec4b7d40dd89",
                "icon": "fa fa-user-plus",
                "topic": "Register Visitor",
							  "color":"#000"
            },
            {
                "topicUrl": "?id=alert_cat_item&sys_id=71f7ba8cc3811210a7705fd1b4013115",
                "topicId": "0fb45ba7c3053010069aec4b7d40dd40",
                "icon": "fa fa-ticket",
                "topic": "Register Visit",
							  "color":"#000"
            },
            {
                "topicUrl": "?id=emp_taxonomy_topic&topic_id=d22413a7c3053010069aec4b7d40ddf8",
                "topicId": "d22413a7c3053010069aec4b7d40ddf8",
                "icon": "fa fa-check-square-o",
                "topic": "Check-in",
							  "color":"#000"
            },
            {
                "topicUrl": "?id=emp_taxonomy_topic&topic_id=1325dba7c3053010069aec4b7d40ddb4",
                "topicId": "1325dba7c3053010069aec4b7d40ddb4",
                "icon": "fa fa-sign-out",
                "topic": "Check-out",
							  "color":"#000"
            },
            {
                "topicUrl": "?id=emp_taxonomy_topic&topic_id=01a497a7c3053010069aec4b7d40dd14",
                "topicId": "01a497a7c3053010069aec4b7d40dd14",
                "icon": "fa fa-thumbs-o-up",
                "topic": "Verify Visitor",
							  "color":"#000"
            },
            {
                "topicUrl": "?id=emp_taxonomy_topic&topic_id=2a4513e7c3053010069aec4b7d40dd6e",
                "topicId": "2a4513e7c3053010069aec4b7d40dd6e",
                "icon": "fa fa-refresh",
                "topic": "Reschedule Visit",
							  "color":"#000"
            },
            {
                "topicUrl": "?id=emp_taxonomy_topic&topic_id=988497a7c3053010069aec4b7d40ddea",
                "topicId": "988497a7c3053010069aec4b7d40ddea",
                "icon": "fa fa-minus-square",
                "topic": "Cancel Visit",
							  "color":"#000"
            },
            {
                "topicUrl": "?id=emp_taxonomy_topic&topic_id=5c4513e7c3053010069aec4b7d40dd01",
                "topicId": "5c4513e7c3053010069aec4b7d40dd01",
                "icon": "fa fa-handshake-o",
                "topic": "Assign a Host",
							  "color":"#000"
            },
            {
                "topicUrl": "?id=emp_taxonomy_topic&topic_id=5c4513e7c3053010069aec4b7d40dd01",
                "topicId": "5c4513e7c3053010069aec4b7d40dd01",
                "icon": "fa fa-print",
                "topic": "Print Visitor Badge",
							  "color":"#000"
            },
            {
                "topicUrl": "?id=emp_taxonomy_topic&topic_id=5c4513e7c3053010069aec4b7d40dd01",
                "topicId": "5c4513e7c3053010069aec4b7d40dd01",
                "icon": "fa fa-exchange",
                "topic": "Monitor Visits",
							  "color":"#000"
            },
            {
                "topicUrl": "?id=emp_taxonomy_topic&topic_id=5c4513e7c3053010069aec4b7d40dd01",
                "topicId": "5c4513e7c3053010069aec4b7d40dd01",
                "icon": "fa fa-fire-extinguisher",
                "topic": "Emergency Evacuation",
							  "color":"#000"
            }
        ];
	data.popularTopics = popularTopicsData;
	session.putClientData(popularTopicsDataKey, JSON.stringify(data.popularTopics));
	
	data.options = options;
	populateOptions(data);
})();


function populateOptions(data) {
	var CONST = {
		'HEX': 'hexcode',
		'NORMAL': 'normal',
		'SMALL': 'small',
		'TRUE': 'true',
		'FALSE': 'false',
		'DEFAULT_COLOR': '#FFFFFF',
		'DEFAULT_BORDER_OPTION': 'border-tertiary',
		'REGEX': /^#([0-9A-F]{3}){1,2}$/i
	};
	var option = data.options;
	data.isNormal = (option.display_size.toLowerCase() === CONST.NORMAL);
	data.isSmall = (option.display_size.toLowerCase() === CONST.SMALL);
	data.borderColor = option.border_color.toLowerCase();
	data.icon = option.icon.toLowerCase() === CONST.TRUE;
	data.isHex = (data.borderColor === CONST.HEX);
	data.hexcode = option.hexcode;
	var title = [option.widget_title];
	data.widgetTitle = gs.getMessage(title);

	if (data.isHex) {
		if (!CONST.REGEX.test(option.hexcode)) {
			data.borderColor = CONST.DEFAULT_BORDER_OPTION;
			data.isHex = false;
		}
	}
}]]></script>
        <servicenow>false</servicenow>
        <sys_class_name>sp_widget</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-10-14 15:26:35</sys_created_on>
        <sys_id>d0f07c38c31d1210a7705fd1b4013121</sys_id>
        <sys_mod_count>1</sys_mod_count>
        <sys_name>Visitor Checkin Actions</sys_name>
        <sys_package display_value="Visitor Management" source="x_845458_visitorsa">3ab4f6ebc3301210a7705fd1b4013154</sys_package>
        <sys_policy/>
        <sys_scope display_value="Visitor Management">3ab4f6ebc3301210a7705fd1b4013154</sys_scope>
        <sys_update_name>sp_widget_d0f07c38c31d1210a7705fd1b4013121</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-10-14 15:27:05</sys_updated_on>
        <template><![CDATA[<div class="popular-topic-panel panel panel-default panel-wrapper b"
     style="margin-top: 10px !important;" >
  <div class="popular-topic-heading panel-heading b-b">
    <h3 class="panel-title">{{data.widgetTitle}}</h3>
  </div>

  <div class="popular-topic-panel-body">
    <div class="popular-topic-empty-state" ng-if="(!data.popularTopics || data.popularTopics.length === 0)">
      <p class="popular-topic-empty-text">
        ${We don't have any actions configured in this location to show you.}
      </p>
    </div>
    <div class="popular-topic-body-container"
         ng-class="{'small': data.isSmall, 'no-icon': !data.icon, 'fixed': isFixed }" 
         ng-if="data.popularTopics && data.popularTopics.length > 0">

      <div class="popular-topic-body" ng-class="getClass()" ng-style="getStyle()"
           ng-repeat="topic in data.popularTopics">
        <a class="popular-topic-link" data-ng-attr-aria-label="{{topic.topic}}"
           ng-href="{{topic.topicUrl}}" ng-keydown="c.keydownAction($event)">

          <div class="icon-wrapper">
            <i class="{{topic.icon}}" style="color:{{topic.color}};" aria-hidden="true"></i>
          </div>
          <div class="popular-topic-caption">
            <span class = "popular-topic-title" data-toggle="tooltip" title="{{topic.topic}}">
              {{topic.topic}}
            </span>
          </div>
        </a>
      </div>
    </div>
  </div>
</div>

]]></template>
    </sp_widget>
    <sys_es_latest_script action="DELETE">
        <id>d0f07c38c31d1210a7705fd1b4013121</id>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-10-14 15:27:02</sys_created_on>
        <sys_id>3601fc38c31d1210a7705fd1b4013159</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-10-14 15:27:02</sys_updated_on>
        <table>sp_widget</table>
        <use_es_latest>true</use_es_latest>
    </sys_es_latest_script>
    <sys_update_version action="INSERT_OR_UPDATE">
        <action>DELETE</action>
        <application display_value="Visitor Management">3ab4f6ebc3301210a7705fd1b4013154</application>
        <file_path/>
        <instance_id>32376ab41b0e7198699443f4bd4bcbfb</instance_id>
        <instance_name>dev191029</instance_name>
        <name>sp_widget_d0f07c38c31d1210a7705fd1b4013121</name>
        <payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sp_widget"&gt;&lt;sp_widget action="INSERT_OR_UPDATE"&gt;&lt;category&gt;custom&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[function controller($scope) {
	var c = this;
	var CONST = {
		'BORDER_COLOR': 'border-color',
		'TOPIC_SELECTOR': '.popular-topic-body-container',
		'FN_RESIZE': 'resizePopularTopicWidget',
		'CONTAINER': '.container',
		'SMALL': 'small',
		'NO_ICON': 'no-icon',
		'POPULAR_TOPIC_BODY': '.popular-topic-body',
		'IE_PREFIX': 'Trident/',
		'IE': 'ie',
		'MARGIN': 'mr-0',
		'H5_SELECTOR': '.popular-topic-caption .popular-topic-title',
		'FONT_SIZE': 'font-size',
		'FIXED_COUNT': 4,
		'LIMIT': 12
	};
	$scope.isLoading = false;
	var data = c.data;
	$scope.isFixed = false;
	var isIE = window.navigator.userAgent.indexOf(CONST.IE_PREFIX) !== -1;
	$scope.getClass = function () {
		var isHex = data &amp;&amp; data.isHex || false;
		return !isHex ? getThemeClass(data.borderColor) : "";
	};

	$scope.getStyle = function () {
		var style = {};
		style[CONST.BORDER_COLOR] = data &amp;&amp; data.hexcode;
		var isHex = data &amp;&amp; data.isHex || false;
		return isHex ? style : {};
	};
	var registered = false;
	var resizeEvents = $._data(window, "events").resize;
	if (resizeEvents) {
		resizeEvents.forEach(function (callback) {
			var handler = callback.handler;
			var name = handler.name;
			if (name === CONST.FN_RESIZE) {
				registered = true;
			}
		});
	}

	if (!registered) {
		$(window).resize(resizePopularTopicWidget);
	}
	$scope.$evalAsync(resizePopularTopicWidget);
	$scope.$evalAsync(topicTooltip);
	function getThemeClass(background) {
		var THEME = {
			'border-primary': 'primary-color',
			'border-secondary': 'secondary-color',
			'border-tertiary': 'tertiary-color'
		};
		var result = 'tertiary-color';
		if (background in THEME)
			result = THEME[background];

		return result;
	}
	function resizePopularTopicWidget() {
		var topicCont = $(CONST.TOPIC_SELECTOR);
		if (isIE) {
			resizeWidgetIE(topicCont);
		}
		topicTooltip();
	}
	function resizeWidgetIE(topicCont) {
		var MIN_TOPIC_WIDTH = 150;
		var MAX_TOPIC_WIDTH = 250;
		var PADDING = 16;
		var MIN_BREAK_POINT = 330;
		var MOBILE_WIDTH = 400;
		$(CONST.TOPIC_SELECTOR).addClass(CONST.IE);
		topicCont.each(function (i, container) {
			var availablePanelWidth = getPanelWidth(container);
			var isSmall = $(container).hasClass(CONST.SMALL);
			var noIcon = $(container).hasClass(CONST.NO_ICON);
			var limit = CONST.LIMIT;
			var numberOfTopic = Math.min(Math.round(availablePanelWidth / MIN_TOPIC_WIDTH), limit);
			numberOfTopic = calcTopicCount(numberOfTopic, MIN_TOPIC_WIDTH, availablePanelWidth, PADDING, true);
			isSmall = true;
			if (availablePanelWidth &lt;= MOBILE_WIDTH) {
				numberOfTopic = 2;
				if ((isSmall &amp;&amp; !noIcon) || (availablePanelWidth &lt;= MIN_BREAK_POINT)) {
					numberOfTopic = 1;
				}
			}
			var topicWidth = Math.floor((availablePanelWidth - ((numberOfTopic) * PADDING) - 1) / numberOfTopic);
			topicWidth = (numberOfTopic === 1 &amp;&amp; isSmall &amp;&amp; !noIcon) ? availablePanelWidth : Math.min(topicWidth, MAX_TOPIC_WIDTH);
			var topicList = $(CONST.POPULAR_TOPIC_BODY, container);
			topicList.each(function (j, topic) {
				$(topic).css('width', topicWidth);
				if (isSmall &amp;&amp; !noIcon) {
					$(topic).css('max-width', 'inherit');
				}
			});
		});
	}
	function calcTopicCount(topicCount, minTopicWidth, maxWidth, padWidth, isIE) {
		var calcWidth = calculateWidth(minTopicWidth, padWidth, topicCount, isIE);
		while ((topicCount &gt; 0) &amp;&amp; (calcWidth &gt; maxWidth)) {
			topicCount--;
			calcWidth = calculateWidth(minTopicWidth, padWidth, topicCount, isIE);
		}
		return topicCount;
	}
	function calculateWidth(minTopicWidth, padWidth, topicCount, isIE) {
		var calcWidth = 0;
		var gridGapCount = topicCount - 1;
		if (isIE) {
			gridGapCount = topicCount;
		}
		calcWidth = (minTopicWidth * topicCount) + (gridGapCount * padWidth);
		return calcWidth;
	}
	function getPanelWidth(topicPanel) {
		var panelWidth = $(topicPanel).width();
		var parentWidth = $(topicPanel).parents(CONST.CONTAINER).width() || panelWidth;
		return Math.min(parentWidth, panelWidth);
	}
	function checkEllipsis(tooltip) {
		if (isIE) {
			return tooltip.scrollWidth &gt; $(tooltip).parent().width();
		}
		var fontSize = parseFloat($(tooltip).css(CONST.FONT_SIZE));
		return (($(tooltip).height() + fontSize / 2) &lt; tooltip.scrollHeight);
	}
	function topicTooltip() {
		var topics = $(CONST.H5_SELECTOR);
		topics.tooltip('enable');
		topics.each(function (i, tooltip) {
			if (!checkEllipsis(tooltip)) {
				$(tooltip).tooltip('disable');
			}
		});
	}
	c.asyncGet = function() {
		$scope.isLoading = true;
		c.data.action = "loadData";
		c.server.update().then(function(response) {
			fetchPopularTopicsData();
		});
	}
	var fetchPopularTopicsData = function() {
		$scope.isLoading = false;
		$scope.isFixed = (data.popularTopics &amp;&amp; (data.popularTopics.length &lt; CONST.FIXED_COUNT)) || false;
		setTimeout(resizePopularTopicWidget);
		setTimeout(topicTooltip);
	};

	var load_config = c.data.load_config;
	if (load_config === "async")
		setTimeout(c.asyncGet);
	else
		fetchPopularTopicsData();
}]]&gt;&lt;/client_script&gt;&lt;controller_as&gt;c&lt;/controller_as&gt;&lt;css&gt;/*** Variables declaration **/

$border-radius: 6px;
$shadow: 0px 2px 10px rgba(23, 40, 52, 0.08);
$normal-img-size: 56px;
$small-img-size: 32px;
$rm: 10px;
$text-primary: #181a1f !default;
$color-sp-separator: #eaeaea !default;
$headings-font-weight: 600 !default;
$border-primary: #8790a1 !default;
$border-secondary: #acb2be !default;
$border-tertiary: #dadde2 !default;
$sp-panel-box-shadow: 0 4px 8px 0 rgba(23, 40, 52, 0.08) !default;

.popular-topic-panel * {
	box-sizing: border-box;
	margin: 0;
	padding: 0;
	p {
		margin: 0 0 1.1rem;
	}
}

.popular-topic-panel {
	background-color: $color-lightest;
	border-radius: $border-radius-large;
	box-shadow: $shadow;
	margin-bottom: $rm * 1.6;
	color: $text-primary;
	border-color: transparent;
}

.popular-topic-panel.small {
	font-size: $rm * 1.6;
}

.popular-topic-panel &amp;gt; .popular-topic-heading {
	word-wrap: break-word;
	padding: $rm * 2.4;
	color: $text-primary;
	border-top-right-radius: $border-radius;
	border-top-left-radius: $border-radius;
	border-bottom: 1px solid $color-sp-separator;
	background: none;
}

.popular-topic-body-container {
	padding: 1.6 * $rm 2.4 * $rm;
	display: grid;
	grid-auto-rows: 1fr;
	grid-template-columns: 1fr;
	grid-gap: 1.6 * $rm;
}
.popular-topic-empty-state {
	height: 15 * $rm;
	display: flex;
	justify-content: center;
	align-items: center;
	padding: 2.4rem;
	text-align: center;
	.popular-topic-empty-text{
		font-size: $font-size-base;
		color:$text-secondary;
	}
}
.popular-topic-body {
	margin-bottom: 0;
	background-color: $color-lightest;
	border-width: 1px;
	border-style: solid;
	border-radius: $border-radius-base;
}

.popular-topic-body:hover {
	box-shadow: $sp-panel-box-shadow;
}

.popular-topic-body &amp;gt; .popular-topic-link {
	text-decoration: none;
	background-color: transparent;
	cursor: pointer;
	color: $text-primary;
	display: block;
	padding: 1em;
	height: 100%;
	border-radius: $border-radius-base;
  align-items: center;
}

.popular-topic-body-container.no-icon:not(.small) .popular-topic-link {
	padding-top: $rm * 5.2;
	padding-bottom: $rm * 5.2;
}

.popular-topic-body-container.small .popular-topic-link {
	display: flex;
	align-items: center;
	height: 100%;
}

.popular-topic-body .icon-wrapper {
	display: block;
	max-width: 100%;
	margin-left: auto;
	margin-right: auto;
	border: 0;
	width: $normal-img-size;
	height: $normal-img-size;
}

.popular-topic-body-container.small .icon-wrapper {
	width: $small-img-size;
	height: $small-img-size;
}

.popular-topic-body .popular-topic-caption {
	font-size: 1em;
	text-align: center;
}

.popular-topic-caption .popular-topic-title {
	word-break: break-word;
	overflow: hidden;
	text-overflow: ellipsis;
	display: -webkit-box;
	-webkit-line-clamp: 2;
	-webkit-box-orient: vertical;
	color: $text-primary;
	font-weight: $headings-font-weight;
}

.popular-topic-caption .tooltip-inner {
	padding: 0.3rem 0.8rem;
}

.popular-topic-caption .tooltip-arrow {
	bottom: -5px;
}

.popular-topic-body-container:not(.small) .popular-topic-caption {
	padding-top: $rm * 1.6;
	margin-bottom: $rm * 0.5;
	.popular-topic-title {
		font-size: $rm * 1.6;
	}
}

.popular-topic-body-container.small .popular-topic-caption {
	width: calc(100% - $small-img-size);
	text-align: left;
	display: flex;
	align-items: center;
	height: 100%;
	padding-left: 1em;
	margin-left: 0;
}

.popular-topic-body-container.no-icon .popular-topic-caption {
	width: 100%;
	margin: 0;
	padding: 0;
	display: flex;
	align-items: center;
	justify-content: center;
	height: 100%;
	text-align: center;
	max-width: none;
}

.popular-topic-body-container.no-icon .icon-wrapper {
	display: none;
}

.primary-color {
	border-color: $border-primary;
}

.secondary-color {
	border-color: $border-secondary;
}

.tertiary-color {
	border-color: $border-tertiary;
}

@media screen and (min-width: 330px) {
	.popular-topic-body-container {
		grid-template-columns: repeat(2, minmax($rm * 13, 1fr));
		grid-gap: $rm * 1.6 $rm;
	}
}

@media screen and (max-width: 430px) {
	.popular-topic-body-container.small:not(.no-icon) {
		grid-template-columns: 1fr;
	}
	.popular-topic-body-container {
		padding: 1.6 * $rm;
	}
}

@media screen and (min-width: 430px) {
	.popular-topic-body {
		max-width: $rm * 25;
	}
}

@media screen and (min-width: 480px) {
	.popular-topic-body-container:not(.fixed) {
		grid-template-columns: repeat(auto-fit, minmax(15rem, 1fr));
		grid-gap: 1.6 * $rm;
	}
	.popular-topic-body-container.fixed {
		grid-template-columns: repeat(auto-fill, minmax($rm * 15, 1fr));
		grid-gap: 1.6 * $rm;
	}
}

.ie.popular-topic-body-container {
	display: flex;
	flex-wrap: wrap;
	padding-bottom: 0;
	padding-right: 0.8 * $rm;
}

.ie .popular-topic-body {
	margin-right: $rm * 1.6;
	margin-bottom: $rm * 1.6;
	min-width: $rm * 15;
	max-width: $rm * 25;
}

.ie .popular-topic-title {
	white-space: nowrap;
}



.icon-wrapper .fa {
  font-size: 56px; /* Set icon size to 56px */
  color: #888; /* Set the icon color */
}
&lt;/css&gt;&lt;data_table&gt;sp_instance&lt;/data_table&gt;&lt;demo_data&gt;{
    "options": {
        "widget_title": "Visitor Managment",
        "topic_limit": "8",
        "display_size": "Normal",
        "border_color": "Border-tertiary",
        "hexcode": "#FFFFFF",
        "icon": "true",
        "load_config": "async",
        "show_empty_state": "false"
    }
}&lt;/demo_data&gt;&lt;description&gt;visitor_checkin_actions&lt;/description&gt;&lt;docs/&gt;&lt;field_list/&gt;&lt;has_preview&gt;true&lt;/has_preview&gt;&lt;id/&gt;&lt;internal&gt;false&lt;/internal&gt;&lt;link&gt;&lt;![CDATA[function link(scope, element, attrs, controller) {  }]]&gt;&lt;/link&gt;&lt;name&gt;Visitor Checkin Actions&lt;/name&gt;&lt;option_schema&gt;[&amp;#13;
    {&amp;#13;
        "hint": "Title name of the widget",&amp;#13;
        "name": "widget_title",&amp;#13;
        "section": "Presentation",&amp;#13;
        "default_value": "Popular topics",&amp;#13;
        "label": "Title",&amp;#13;
        "type": "string"&amp;#13;
    },&amp;#13;
    {&amp;#13;
        "hint": "Number of topics to be shown",&amp;#13;
        "name": "topic_limit",&amp;#13;
        "section": "Presentation",&amp;#13;
        "default_value": "8",&amp;#13;
        "label": "Number of topics",&amp;#13;
        "type": "choice",&amp;#13;
        "choices": [&amp;#13;
            {&amp;#13;
                "label": "4",&amp;#13;
                "value": "4"&amp;#13;
            },&amp;#13;
            {&amp;#13;
                "label": "6",&amp;#13;
                "value": "6"&amp;#13;
            },&amp;#13;
            {&amp;#13;
                "label": "8",&amp;#13;
                "value": "8"&amp;#13;
            },&amp;#13;
            {&amp;#13;
                "label": "12",&amp;#13;
                "value": "12"&amp;#13;
            }&amp;#13;
        ]&amp;#13;
    },&amp;#13;
    {&amp;#13;
        "hint": "Display size (Normal / Small)",&amp;#13;
        "name": "display_size",&amp;#13;
        "section": "Presentation",&amp;#13;
        "default_value": "Normal",&amp;#13;
        "label": "Display size",&amp;#13;
        "type": "choice",&amp;#13;
        "choices": [&amp;#13;
            {&amp;#13;
                "label": "Normal",&amp;#13;
                "value": "Normal"&amp;#13;
            },&amp;#13;
            {&amp;#13;
                "label": "Small",&amp;#13;
                "value": "Small"&amp;#13;
            }&amp;#13;
        ]&amp;#13;
    },&amp;#13;
    {&amp;#13;
        "hint": "Border color of popular topic",&amp;#13;
        "name": "border_color",&amp;#13;
        "section": "Presentation",&amp;#13;
        "default_value": "Border-tertiary",&amp;#13;
        "label": "Border color",&amp;#13;
        "type": "choice",&amp;#13;
        "choices": [&amp;#13;
            {&amp;#13;
                "label": "Border-primary",&amp;#13;
                "value": "Border-primary"&amp;#13;
            },&amp;#13;
            {&amp;#13;
                "label": "Border-secondary",&amp;#13;
                "value": "Border-secondary"&amp;#13;
            },&amp;#13;
            {&amp;#13;
                "label": "Border-tertiary",&amp;#13;
                "value": "Border-tertiary"&amp;#13;
            },&amp;#13;
            {&amp;#13;
                "label": "Hexcode",&amp;#13;
                "value": "Hexcode"&amp;#13;
            }&amp;#13;
        ]&amp;#13;
    },&amp;#13;
    {&amp;#13;
        "hint": "Hex code of border color",&amp;#13;
        "name": "hexcode",&amp;#13;
        "section": "Presentation",&amp;#13;
        "default_value": "#FFFFFF",&amp;#13;
        "label": "Hexcode",&amp;#13;
        "type": "string"&amp;#13;
    },&amp;#13;
    {&amp;#13;
        "hint": "Icon to be shown for popular topic",&amp;#13;
        "name": "icon",&amp;#13;
        "section": "Presentation",&amp;#13;
        "default_value": "true",&amp;#13;
        "label": "Show topic icon",&amp;#13;
        "type": "boolean"&amp;#13;
    },&amp;#13;
    {&amp;#13;
        "name": "load_config",&amp;#13;
        "section": "other",&amp;#13;
        "default_value": "async",&amp;#13;
        "label": "Load configuration",&amp;#13;
        "type": "choice",&amp;#13;
        "choices": [&amp;#13;
            {&amp;#13;
                "label": "Synchronous",&amp;#13;
                "value": "sync"&amp;#13;
            },&amp;#13;
            {&amp;#13;
                "label": "Asynchronous",&amp;#13;
                "value": "async"&amp;#13;
            }&amp;#13;
        ]&amp;#13;
    },&amp;#13;
    {&amp;#13;
        "hint": "Shows empty state if the widget content is empty.",&amp;#13;
        "name": "show_empty_state",&amp;#13;
        "section": "other",&amp;#13;
        "default_value": "false",&amp;#13;
        "label": "Show empty state",&amp;#13;
        "type": "boolean"&amp;#13;
    },&amp;#13;
    {&amp;#13;
        "type": "array",&amp;#13;
        "label": "Test Data",&amp;#13;
        "name": "testdata",&amp;#13;
        "description": "Enter a JSON array of values",&amp;#13;
        "default": [&amp;#13;
            {&amp;#13;
                "topicUrl": "?id=emp_taxonomy_topic&amp;amp;topic_id=ecc49ba7c3053010069aec4b7d40dd89",&amp;#13;
                "topicId": "ecc49ba7c3053010069aec4b7d40dd89",&amp;#13;
                "icon": "3742085ceb6530104a299f6713522830.iix?t=small",&amp;#13;
                "topic": "Register Visitor"&amp;#13;
            }&amp;#13;
        ]&amp;#13;
      }&amp;#13;
]&lt;/option_schema&gt;&lt;public&gt;true&lt;/public&gt;&lt;roles/&gt;&lt;script&gt;&lt;![CDATA[(function () {
	data.options = options;
	data.popularTopics =[];
	var session = gs.getSession();
	var popularTopicsDataKey = 'alert_vm_list_data';
	var popularTopicsData = [
            {
                "topicUrl": "?id=sc_cat_item&amp;sys_id=71f7ba8cc3811210a7705fd1b4013115",
                "topicId": "ecc49ba7c3053010069aec4b7d40dd89",
                "icon": "fa fa-user-plus",
                "topic": "Register Visitor",
							  "color":"#000"
            },
            {
                "topicUrl": "?id=alert_cat_item&amp;sys_id=71f7ba8cc3811210a7705fd1b4013115",
                "topicId": "0fb45ba7c3053010069aec4b7d40dd40",
                "icon": "fa fa-ticket",
                "topic": "Register Visit",
							  "color":"#000"
            },
            {
                "topicUrl": "?id=emp_taxonomy_topic&amp;topic_id=d22413a7c3053010069aec4b7d40ddf8",
                "topicId": "d22413a7c3053010069aec4b7d40ddf8",
                "icon": "fa fa-check-square-o",
                "topic": "Check-in",
							  "color":"#000"
            },
            {
                "topicUrl": "?id=emp_taxonomy_topic&amp;topic_id=1325dba7c3053010069aec4b7d40ddb4",
                "topicId": "1325dba7c3053010069aec4b7d40ddb4",
                "icon": "fa fa-sign-out",
                "topic": "Check-out",
							  "color":"#000"
            },
            {
                "topicUrl": "?id=emp_taxonomy_topic&amp;topic_id=01a497a7c3053010069aec4b7d40dd14",
                "topicId": "01a497a7c3053010069aec4b7d40dd14",
                "icon": "fa fa-thumbs-o-up",
                "topic": "Verify Visitor",
							  "color":"#000"
            },
            {
                "topicUrl": "?id=emp_taxonomy_topic&amp;topic_id=2a4513e7c3053010069aec4b7d40dd6e",
                "topicId": "2a4513e7c3053010069aec4b7d40dd6e",
                "icon": "fa fa-refresh",
                "topic": "Reschedule Visit",
							  "color":"#000"
            },
            {
                "topicUrl": "?id=emp_taxonomy_topic&amp;topic_id=988497a7c3053010069aec4b7d40ddea",
                "topicId": "988497a7c3053010069aec4b7d40ddea",
                "icon": "fa fa-minus-square",
                "topic": "Cancel Visit",
							  "color":"#000"
            },
            {
                "topicUrl": "?id=emp_taxonomy_topic&amp;topic_id=5c4513e7c3053010069aec4b7d40dd01",
                "topicId": "5c4513e7c3053010069aec4b7d40dd01",
                "icon": "fa fa-handshake-o",
                "topic": "Assign a Host",
							  "color":"#000"
            },
            {
                "topicUrl": "?id=emp_taxonomy_topic&amp;topic_id=5c4513e7c3053010069aec4b7d40dd01",
                "topicId": "5c4513e7c3053010069aec4b7d40dd01",
                "icon": "fa fa-print",
                "topic": "Print Visitor Badge",
							  "color":"#000"
            },
            {
                "topicUrl": "?id=emp_taxonomy_topic&amp;topic_id=5c4513e7c3053010069aec4b7d40dd01",
                "topicId": "5c4513e7c3053010069aec4b7d40dd01",
                "icon": "fa fa-exchange",
                "topic": "Monitor Visits",
							  "color":"#000"
            },
            {
                "topicUrl": "?id=emp_taxonomy_topic&amp;topic_id=5c4513e7c3053010069aec4b7d40dd01",
                "topicId": "5c4513e7c3053010069aec4b7d40dd01",
                "icon": "fa fa-fire-extinguisher",
                "topic": "Emergency Evacuation",
							  "color":"#000"
            }
        ];
	data.popularTopics = popularTopicsData;
	session.putClientData(popularTopicsDataKey, JSON.stringify(data.popularTopics));
	
	data.options = options;
	populateOptions(data);
})();


function populateOptions(data) {
	var CONST = {
		'HEX': 'hexcode',
		'NORMAL': 'normal',
		'SMALL': 'small',
		'TRUE': 'true',
		'FALSE': 'false',
		'DEFAULT_COLOR': '#FFFFFF',
		'DEFAULT_BORDER_OPTION': 'border-tertiary',
		'REGEX': /^#([0-9A-F]{3}){1,2}$/i
	};
	var option = data.options;
	data.isNormal = (option.display_size.toLowerCase() === CONST.NORMAL);
	data.isSmall = (option.display_size.toLowerCase() === CONST.SMALL);
	data.borderColor = option.border_color.toLowerCase();
	data.icon = option.icon.toLowerCase() === CONST.TRUE;
	data.isHex = (data.borderColor === CONST.HEX);
	data.hexcode = option.hexcode;
	var title = [option.widget_title];
	data.widgetTitle = gs.getMessage(title);

	if (data.isHex) {
		if (!CONST.REGEX.test(option.hexcode)) {
			data.borderColor = CONST.DEFAULT_BORDER_OPTION;
			data.isHex = false;
		}
	}
}]]&gt;&lt;/script&gt;&lt;servicenow&gt;false&lt;/servicenow&gt;&lt;sys_class_name&gt;sp_widget&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2024-10-14 15:26:35&lt;/sys_created_on&gt;&lt;sys_id&gt;d0f07c38c31d1210a7705fd1b4013121&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;Visitor Checkin Actions&lt;/sys_name&gt;&lt;sys_package display_value="Visitor Management" source="x_845458_visitorsa"&gt;3ab4f6ebc3301210a7705fd1b4013154&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Visitor Management"&gt;3ab4f6ebc3301210a7705fd1b4013154&lt;/sys_scope&gt;&lt;sys_update_name&gt;sp_widget_d0f07c38c31d1210a7705fd1b4013121&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2024-10-14 15:27:05&lt;/sys_updated_on&gt;&lt;template&gt;&lt;![CDATA[&lt;div class="popular-topic-panel panel panel-default panel-wrapper b"
     style="margin-top: 10px !important;" &gt;
  &lt;div class="popular-topic-heading panel-heading b-b"&gt;
    &lt;h3 class="panel-title"&gt;{{data.widgetTitle}}&lt;/h3&gt;
  &lt;/div&gt;

  &lt;div class="popular-topic-panel-body"&gt;
    &lt;div class="popular-topic-empty-state" ng-if="(!data.popularTopics || data.popularTopics.length === 0)"&gt;
      &lt;p class="popular-topic-empty-text"&gt;
        ${We don't have any actions configured in this location to show you.}
      &lt;/p&gt;
    &lt;/div&gt;
    &lt;div class="popular-topic-body-container"
         ng-class="{'small': data.isSmall, 'no-icon': !data.icon, 'fixed': isFixed }" 
         ng-if="data.popularTopics &amp;&amp; data.popularTopics.length &gt; 0"&gt;

      &lt;div class="popular-topic-body" ng-class="getClass()" ng-style="getStyle()"
           ng-repeat="topic in data.popularTopics"&gt;
        &lt;a class="popular-topic-link" data-ng-attr-aria-label="{{topic.topic}}"
           ng-href="{{topic.topicUrl}}" ng-keydown="c.keydownAction($event)"&gt;

          &lt;div class="icon-wrapper"&gt;
            &lt;i class="{{topic.icon}}" style="color:{{topic.color}};" aria-hidden="true"&gt;&lt;/i&gt;
          &lt;/div&gt;
          &lt;div class="popular-topic-caption"&gt;
            &lt;span class = "popular-topic-title" data-toggle="tooltip" title="{{topic.topic}}"&gt;
              {{topic.topic}}
            &lt;/span&gt;
          &lt;/div&gt;
        &lt;/a&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;

]]&gt;&lt;/template&gt;&lt;/sp_widget&gt;&lt;sys_es_latest_script action="INSERT_OR_UPDATE"&gt;&lt;id&gt;d0f07c38c31d1210a7705fd1b4013121&lt;/id&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2024-10-14 15:27:02&lt;/sys_created_on&gt;&lt;sys_id&gt;3601fc38c31d1210a7705fd1b4013159&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2024-10-14 15:27:02&lt;/sys_updated_on&gt;&lt;table&gt;sp_widget&lt;/table&gt;&lt;use_es_latest&gt;true&lt;/use_es_latest&gt;&lt;/sys_es_latest_script&gt;&lt;/record_update&gt;</payload>
        <payload_hash>-822991174</payload_hash>
        <record_name>Visitor Checkin Actions</record_name>
        <reverted_from/>
        <source>29ad3684c3c11210a7705fd1b40131aa</source>
        <source_table>sys_update_set</source_table>
        <state>previous</state>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-10-14 15:27:05</sys_created_on>
        <sys_id>6b013c38c31d1210a7705fd1b40131ec</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_recorded_at>1928ba3df880000001</sys_recorded_at>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-10-14 15:27:05</sys_updated_on>
        <type>Widget</type>
        <update_guid>23013c388d1d1210c92df2baa5c7afec</update_guid>
        <update_guid_history>23013c388d1d1210c92df2baa5c7afec:-822991174,50f07c38a71d121048e6e240e48f0f23:-464881191</update_guid_history>
    </sys_update_version>
    <sys_metadata_delete action="INSERT_OR_UPDATE">
        <sys_audit_delete display_value="Visitor Checkin Actions">ca93383cc31d1210a7705fd1b4013189</sys_audit_delete>
        <sys_class_name>sys_metadata_delete</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2024-10-14 15:38:11</sys_created_on>
        <sys_db_object display_value="" name="sp_widget">sp_widget</sys_db_object>
        <sys_id>1dd50a4a41504a7ab4e854cc6cc0b489</sys_id>
        <sys_metadata>d0f07c38c31d1210a7705fd1b4013121</sys_metadata>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>Visitor Checkin Actions</sys_name>
        <sys_package display_value="Visitor Management" source="x_845458_visitorsa">3ab4f6ebc3301210a7705fd1b4013154</sys_package>
        <sys_parent/>
        <sys_policy/>
        <sys_scope display_value="Visitor Management">3ab4f6ebc3301210a7705fd1b4013154</sys_scope>
        <sys_scope_delete display_value="">e9e2c45299ed4c98a68cdb34d29bdd21</sys_scope_delete>
        <sys_update_name>sp_widget_d0f07c38c31d1210a7705fd1b4013121</sys_update_name>
        <sys_update_version display_value="sp_widget_d0f07c38c31d1210a7705fd1b4013121">6b013c38c31d1210a7705fd1b40131ec</sys_update_version>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2024-10-14 15:38:11</sys_updated_on>
    </sys_metadata_delete>
</record_update>
